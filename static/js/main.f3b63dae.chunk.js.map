{"version":3,"sources":["utils/generateShuffledDeck.js","utils/unshuffledDeck.js","utils/sumHand.js","utils/isSplittableHand.js","components/Card/Card.js","components/Hand/Hand.js","components/PlayerSide/PlayerSide.js","components/DealerSide/DealerSide.js","components/GameOverNotification/GameOverNotification.js","components/OutcomeNotification/OutcomeNotification.js","components/BetInput/BetInput.js","components/GameButton/GameButton.js","components/ChipsTally/ChipsTally.js","components/RigDeckCheckbox/RigDeckCheckbox.js","components/ControlPanel/ControlPanel.js","App.js","utils/isWin.js","utils/isTie.js","utils/rigGameForSplits.js","index.js"],"names":["generateShuffledDeck","deck","i","m","length","Math","floor","random","shuffle","rankToValuesMap","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king","sumHand","cards","reduce","totals","currentCard","rank","split","totalAces","value","scoreWithoutAces","getHandTotals","largerScore","calculateScoreWithAces","getRankFromCard","card","Card","className","key","alt","src","Hand","hand","score","currentHand","turn","isEqual","map","bet","PlayerSide","playerHands","JSON","stringify","DealerSide","dealerHand","GameOverNotification","gameOverNotification","resetStateForNewHand","setChips","onClick","OutcomeNotification","outcomeNotification","BetInput","setBet","chips","useState","input","setInput","errorMessage","setErrorMessage","useEffect","revert","setTimeout","clearTimeout","handleClick","submittedBet","Number","onChange","e","target","test","onKeyPress","GameButton","content","ChipsTally","RigDeckCheckbox","toggleIsRiggedForSplits","type","style","width","height","id","checked","htmlFor","ControlPanel","setDeck","setPlayerHands","setCurrentHand","setTurn","deckCopy","handsCopy","cloneDeep","currentHandCopy","newCard","pop","push","currentHandIndex","findIndex","splice","hitPlayer","nextHand","currentIndex","isSplittableHand","App","setDealerHand","isRiggedForSplits","setOutcomeNotification","setGameOverNotification","forEach","Image","dealCards","every","delayedSetTurn","delayedDeal","hitDealer","determineOutcome","rigTheDeckAndDeal","shuffledDeck","newPlayerHand","newDealerHand","netChipsWon","playerHand","playerScore","dealerScore","isWin","isTie","netBet","netGain","message","abs","useCallback","console","log","dealerHandCopy","riggedPlayerHands","riggedCurrentHand","riggedDeck","filter","includes","rigGameForSplits","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f3b63dae.chunk.js","sourcesContent":["import { unshuffledDeck } from \"./unshuffledDeck\";\r\n\r\nexport const generateShuffledDeck = () => {\r\n  /* Googled it and found that the\"Fisher-Yates Shuffle\" algo\r\nis the best for a truly non-biased shuffle. Neat-o factoid! (maybe)\r\n\r\nI am using Mike Bostockâ€™s code (creator of the D3 visual library) \r\nas a Javascript implementation of this algorithm\r\n*/\r\n  const shuffle = deck => {\r\n    let m = deck.length,\r\n      i;\r\n    while (m) {\r\n      i = Math.floor(Math.random() * m--);\r\n      [deck[m], deck[i]] = [deck[i], deck[m]];\r\n    }\r\n    return deck;\r\n  };\r\n\r\n  const UNSHUFFLED_DECK = unshuffledDeck();\r\n\r\n  return shuffle(UNSHUFFLED_DECK);\r\n};\r\n","export const unshuffledDeck = () => [\r\n  \"ace of hearts\",\r\n  \"ace of diamonds\",\r\n  \"ace of spades\",\r\n  \"ace of clubs\",\r\n  \"two of hearts\",\r\n  \"two of diamonds\",\r\n  \"two of spades\",\r\n  \"two of clubs\",\r\n  \"three of hearts\",\r\n  \"three of diamonds\",\r\n  \"three of spades\",\r\n  \"three of clubs\",\r\n  \"four of hearts\",\r\n  \"four of diamonds\",\r\n  \"four of spades\",\r\n  \"four of clubs\",\r\n  \"five of hearts\",\r\n  \"five of diamonds\",\r\n  \"five of spades\",\r\n  \"five of clubs\",\r\n  \"six of hearts\",\r\n  \"six of diamonds\",\r\n  \"six of spades\",\r\n  \"six of clubs\",\r\n  \"seven of hearts\",\r\n  \"seven of diamonds\",\r\n  \"seven of spades\",\r\n  \"seven of clubs\",\r\n  \"eight of hearts\",\r\n  \"eight of diamonds\",\r\n  \"eight of spades\",\r\n  \"eight of clubs\",\r\n  \"nine of hearts\",\r\n  \"nine of diamonds\",\r\n  \"nine of spades\",\r\n  \"nine of clubs\",\r\n  \"ten of hearts\",\r\n  \"ten of diamonds\",\r\n  \"ten of spades\",\r\n  \"ten of clubs\",\r\n  \"jack of hearts\",\r\n  \"jack of diamonds\",\r\n  \"jack of spades\",\r\n  \"jack of clubs\",\r\n  \"queen of hearts\",\r\n  \"queen of diamonds\",\r\n  \"queen of spades\",\r\n  \"queen of clubs\",\r\n  \"king of hearts\",\r\n  \"king of diamonds\",\r\n  \"king of spades\",\r\n  \"king of clubs\"\r\n];\r\n","const rankToValuesMap = {\r\n  two: 2,\r\n  three: 3,\r\n  four: 4,\r\n  five: 5,\r\n  six: 6,\r\n  seven: 7,\r\n  eight: 8,\r\n  nine: 9,\r\n  ten: 10,\r\n  jack: 10,\r\n  queen: 10,\r\n  king: 10\r\n};\r\n\r\nconst getRankFromCard = card => card.split(\" \")[0];\r\n\r\nconst getHandTotals = cards => {\r\n  return cards.reduce(\r\n    (totals, currentCard) => {\r\n      const rank = getRankFromCard(currentCard);\r\n      if (rank === \"ace\") {\r\n        return { ...totals, totalAces: totals.totalAces + 1 };\r\n      } else {\r\n        const value = rankToValuesMap[rank];\r\n        return { ...totals, scoreWithoutAces: totals.scoreWithoutAces + value };\r\n      }\r\n    },\r\n    { scoreWithoutAces: 0, totalAces: 0 }\r\n  );\r\n};\r\n\r\nconst calculateScoreWithAces = (scoreWithoutAces, totalAces) => {\r\n  if (totalAces === 0) return scoreWithoutAces;\r\n  const largerScore = scoreWithoutAces + totalAces + 10;\r\n  const smallerScore = scoreWithoutAces + totalAces;\r\n  return largerScore <= 21 ? largerScore : smallerScore;\r\n};\r\n\r\nexport const sumHand = ({ cards }) => {\r\n  const { scoreWithoutAces, totalAces } = getHandTotals(cards);\r\n  return calculateScoreWithAces(scoreWithoutAces, totalAces);\r\n};\r\n","const getRankFromCard = card => card.split(\" \")[0];\r\n\r\nexport const isSplittableHand = ({ cards }) =>\r\n  cards.length === 2 && getRankFromCard(cards[0]) === getRankFromCard(cards[1]);\r\n","import React from \"react\";\r\nimport \"./Card.scss\";\r\n\r\nconst Card = ({ card }) => {\r\n  return (\r\n    <img\r\n      className={\"card-img\"}\r\n      key={card}\r\n      alt={card}\r\n      src={`cards/${card}.png`}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { isEqual } from \"lodash\";\r\nimport { sumHand } from \"../../utils\";\r\nimport Card from \"../Card/Card\";\r\nimport \"./Hand.scss\";\r\n\r\nconst Hand = ({ hand, score, currentHand, turn }) => (\r\n  <div className=\"hand-wrapper\">\r\n    {<div className=\"scorebox\">{turn !== \"player\" ? score : \"??\"}</div>}\r\n    <div\r\n      className={\r\n        isEqual(currentHand, hand) ? \"cards-wrapper selected\" : \"cards-wrapper\"\r\n      }\r\n    >\r\n      {turn === \"player\" ? (\r\n        <>\r\n          <Card card={hand.cards[0]} /> <Card card=\"blue_back\" />\r\n        </>\r\n      ) : (\r\n        hand.cards.map(card => <Card key={card} card={card} />)\r\n      )}\r\n    </div>\r\n    {sumHand(hand) > 21 && <p className=\"busted-message\">BUSTED</p>}\r\n    {sumHand(hand) === 21 && hand.cards.length === 2 && hand.bet && (\r\n      <p className=\"blackjack-message\">BLACKJACK!</p>\r\n    )}\r\n    {sumHand(hand) === 21 && hand.cards.length > 2 && (\r\n      <p className=\"blackjack-message\">21! 21! 21!</p>\r\n    )}\r\n  </div>\r\n);\r\n\r\nexport default Hand;\r\n","import React from \"react\";\r\nimport Hand from \"../Hand/Hand\";\r\nimport { sumHand } from \"../../utils\";\r\nimport \"./PlayerSide.scss\";\r\n\r\nconst PlayerSide = ({ playerHands, currentHand }) => (\r\n  <div className=\"player-side-wrapper\">\r\n    {playerHands.map(hand => (\r\n      <Hand\r\n        key={JSON.stringify(hand)}\r\n        hand={hand}\r\n        score={sumHand(hand)}\r\n        currentHand={currentHand}\r\n      />\r\n    ))}\r\n    <p className=\"player-label\">PLAYER</p>\r\n  </div>\r\n);\r\n\r\nexport default PlayerSide;\r\n","import React from \"react\";\r\nimport { sumHand } from \"../../utils\";\r\nimport Hand from \"../Hand/Hand\";\r\nimport \"./DealerSide.scss\";\r\n\r\nconst DealerSide = ({ dealerHand, turn }) => (\r\n  <div className=\"dealer-side-wrapper\">\r\n    {dealerHand.cards.length > 0 && (\r\n      <Hand hand={dealerHand} score={sumHand(dealerHand)} turn={turn} />\r\n    )}\r\n    <p className=\"dealer-label\">DEALER</p>\r\n  </div>\r\n);\r\n\r\nexport default DealerSide;\r\n","import React from \"react\";\r\nimport \"./GameOverNotification.scss\";\r\n\r\nconst GameOverNotification = ({\r\n  gameOverNotification,\r\n  resetStateForNewHand,\r\n  setChips\r\n}) => (\r\n  <div className=\"game-over-notification-wrapper\">\r\n    <p className=\"game-over-notification\">{gameOverNotification}</p>\r\n    <button\r\n      className=\"game-over-notification-button\"\r\n      onClick={() => {\r\n        resetStateForNewHand();\r\n        setChips(1000);\r\n      }}\r\n    >\r\n      Take a lien on your house\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default GameOverNotification;\r\n","import React from \"react\";\r\nimport \"./OutcomeNotification.scss\";\r\n\r\nconst OutcomeNotification = ({ outcomeNotification, resetStateForNewHand }) => (\r\n  <div className=\"outcome-notification-wrapper\">\r\n    <p className=\"outcome-notification\">{outcomeNotification}</p>\r\n    <button\r\n      className=\"outcome-notification-button\"\r\n      onClick={resetStateForNewHand}\r\n    >\r\n      Deal 'er again please\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default OutcomeNotification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./BetInput.scss\";\r\n\r\nconst BetInput = ({ setBet, chips, setChips }) => {\r\n  const [input, setInput] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  useEffect(() => {\r\n    if (errorMessage) {\r\n      const revert = setTimeout(() => setErrorMessage(\"\"), 1750);\r\n      return () => clearTimeout(revert);\r\n    }\r\n  }, [errorMessage]);\r\n\r\n  useEffect(() => {\r\n    setErrorMessage(\"\");\r\n  }, [input]);\r\n\r\n  const handleChange = e => {\r\n    const value = e.target.value;\r\n    const regEx = /[^0-9]/g;\r\n    const containsNonNumber = regEx.test(value);\r\n    if (containsNonNumber) {\r\n      setErrorMessage(\"Only numbers allowed - duh!\");\r\n    } else {\r\n      setInput(e.target.value);\r\n    }\r\n  };\r\n  const handleClick = () => {\r\n    const submittedBet = Number(input);\r\n    if (submittedBet > chips) {\r\n      setErrorMessage(\"You don't have enough chips to bet that much - duh!\");\r\n    } else {\r\n      setBet(submittedBet);\r\n      setChips(chips - submittedBet);\r\n    }\r\n  };\r\n  const handleEnter = e => {\r\n    if (e.key === \"Enter\") handleClick();\r\n  };\r\n  return (\r\n    <div className=\"bet-input-wrapper\">\r\n      <input\r\n        className=\"bet-input\"\r\n        value={input}\r\n        onChange={handleChange}\r\n        onKeyPress={handleEnter}\r\n      />\r\n      <button className=\"bet-input-button\" onClick={handleClick}>\r\n        Bet\r\n      </button>\r\n      {errorMessage && <p className=\"error\">{errorMessage}</p>}\r\n      {input.length === 0 && (\r\n        <p className=\"enter-a-bet-message\">Enter a bet first!</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BetInput;\r\n","import React from \"react\";\r\nimport \"./GameButton.scss\";\r\n\r\nconst GameButton = ({ onClick, content }) => (\r\n  <div className=\"button-wrapper\">\r\n    <button className=\"game-button\" onClick={onClick}>\r\n      {content}\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default GameButton;\r\n","import React from \"react\";\r\nimport \"./ChipsTally.scss\";\r\n\r\nconst ChipsTally = ({ chips }) => (\r\n  <div className=\"chips-wrapper\">\r\n    <div className=\"player-chips\">Chips: {chips}</div>\r\n  </div>\r\n);\r\n\r\nexport default ChipsTally;\r\n","import React from \"react\";\r\nimport \"./RigDeckCheckbox.scss\";\r\n\r\nconst RigDeckCheckbox = ({ toggleIsRiggedForSplits }) => (\r\n  <div className=\"rig-deck-wrapper\">\r\n    <input\r\n      type=\"checkbox\"\r\n      style={{ width: \"20px\", height: \"20px\" }}\r\n      id=\"rig-deck-checkbox\"\r\n      onChange={e => toggleIsRiggedForSplits(e.target.checked)}\r\n    />\r\n    <label className=\"rig-deck-label\" htmlFor=\"rig-deck-checkbox\">\r\n      Get dealt a splittable hand\r\n    </label>\r\n  </div>\r\n);\r\n\r\nexport default RigDeckCheckbox;\r\n","import React from \"react\";\r\n/*********\r\nCOMPONENTS\r\n**********/\r\nimport BetInput from \"../BetInput/BetInput\";\r\nimport GameButton from \"../GameButton/GameButton\";\r\nimport ChipsTally from \"../ChipsTally/ChipsTally\";\r\nimport RigDeckCheckbox from \"../RigDeckCheckbox/RigDeckCheckbox\";\r\n\r\n/************\r\nUTIL FUNCTIONS\r\n*************/\r\nimport { isEqual, cloneDeep } from \"lodash\";\r\nimport { isSplittableHand } from \"../../utils\";\r\n\r\n/******\r\nSTYLES\r\n*******/\r\nimport \"./ControlPanel.scss\";\r\n\r\nconst ControlPanel = ({\r\n  deck,\r\n  setDeck,\r\n  bet,\r\n  setBet,\r\n  chips,\r\n  setChips,\r\n  playerHands,\r\n  setPlayerHands,\r\n  currentHand,\r\n  setCurrentHand,\r\n  turn,\r\n  setTurn,\r\n  gameOverNotification,\r\n  outcomeNotification,\r\n  toggleIsRiggedForSplits\r\n}) => {\r\n  //----------------------------------------------------------------//\r\n  //                         HELPERS                                //\r\n  //----------------------------------------------------------------//\r\n  const hitPlayer = () => {\r\n    //make copies\r\n    const deckCopy = [...deck];\r\n    const handsCopy = cloneDeep(playerHands);\r\n    const currentHandCopy = cloneDeep(currentHand);\r\n\r\n    //deal a new card to the current hand\r\n    const newCard = deckCopy.pop();\r\n    currentHandCopy.cards.push(newCard);\r\n\r\n    //replace the old hand with the new hand\r\n    const currentHandIndex = playerHands.findIndex(hand =>\r\n      isEqual(hand, currentHand)\r\n    );\r\n    handsCopy.splice(currentHandIndex, 1, currentHandCopy);\r\n\r\n    //update state\r\n    setPlayerHands(handsCopy);\r\n    setCurrentHand(currentHandCopy);\r\n    setDeck(deckCopy);\r\n  };\r\n\r\n  const handleSplit = () => {\r\n    //make copies\r\n    const handsCopy = cloneDeep(playerHands);\r\n    const currentHandCopy = cloneDeep(currentHand);\r\n\r\n    //replace the current hand with 2 split hands\r\n    const currentHandIndex = playerHands.findIndex(hand =>\r\n      isEqual(hand, currentHand)\r\n    );\r\n    handsCopy.splice(\r\n      currentHandIndex,\r\n      1,\r\n      { cards: [currentHandCopy.cards[0]], bet },\r\n      { cards: [currentHandCopy.cards[1]], bet }\r\n    );\r\n\r\n    //update state\r\n    setCurrentHand(handsCopy[0]);\r\n    setPlayerHands(handsCopy);\r\n    setChips(chips => chips - bet);\r\n  };\r\n\r\n  const handleStand = () => {\r\n    //make copies\r\n    const handsCopy = cloneDeep(playerHands);\r\n\r\n    //determine if it's the dealer's turn yet\r\n    //or whether we still have more player hands\r\n    const currentIndex = playerHands.findIndex(hand =>\r\n      isEqual(hand, currentHand)\r\n    );\r\n    const nextHand = handsCopy[currentIndex + 1];\r\n    if (nextHand) {\r\n      setCurrentHand(nextHand);\r\n    } else {\r\n      setTurn(\"dealer\");\r\n    }\r\n  };\r\n\r\n  const handleDoubleDown = () => {\r\n    //make copies\r\n    const deckCopy = [...deck];\r\n    const handsCopy = cloneDeep(playerHands);\r\n    const currentHandCopy = cloneDeep(currentHand);\r\n\r\n    //deal only one additional card\r\n    const newCard = deckCopy.pop();\r\n    currentHandCopy.cards.push(newCard);\r\n\r\n    //double the current bet\r\n    currentHandCopy.bet *= 2;\r\n\r\n    //update the state of current hand to reflect new bet and final card\r\n    setCurrentHand(currentHandCopy);\r\n\r\n    //decrement player chip count correspondingly\r\n    setChips(chips => chips - currentHandCopy.bet);\r\n\r\n    //get index of current hand in the player hand array\r\n    const currentIndex = playerHands.findIndex(hand =>\r\n      isEqual(hand, currentHand)\r\n    );\r\n\r\n    //update the player hands array with the updated hand\r\n    handsCopy.splice(currentIndex, 1, currentHandCopy);\r\n    setPlayerHands(handsCopy);\r\n\r\n    //determine if it's the dealer's turn yet\r\n    //or whether we still have more player hands\r\n    const nextHand = handsCopy[currentIndex + 1];\r\n    if (nextHand) {\r\n      setCurrentHand(nextHand);\r\n    } else {\r\n      setTurn(\"dealer\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ChipsTally chips={chips} />\r\n      {bet === 0 && (\r\n        <>\r\n          <BetInput setBet={setBet} chips={chips} setChips={setChips} />\r\n          <RigDeckCheckbox toggleIsRiggedForSplits={toggleIsRiggedForSplits} />\r\n        </>\r\n      )}\r\n      {turn === \"player\" &&\r\n        !gameOverNotification &&\r\n        !outcomeNotification &&\r\n        bet > 0 && (\r\n          <>\r\n            <GameButton onClick={e => hitPlayer()} content=\"Hit\" />\r\n            <GameButton onClick={handleStand} content=\"Stand\" />\r\n            {chips > bet &&\r\n              (currentHand.cards.length === 2 ||\r\n                currentHand.cards.length === 1) && (\r\n                <GameButton onClick={handleDoubleDown} content=\"Double Down\" />\r\n              )}\r\n            {chips > bet && isSplittableHand(currentHand) && (\r\n              <GameButton onClick={handleSplit} content=\"Split\" />\r\n            )}\r\n          </>\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ControlPanel;\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\n\r\n/*********\r\nCOMPONENTS\r\n**********/\r\nimport PlayerSide from \"./components/PlayerSide/PlayerSide\";\r\nimport DealerSide from \"./components/DealerSide/DealerSide\";\r\nimport GameOverNotification from \"./components/GameOverNotification/GameOverNotification\";\r\nimport OutcomeNotification from \"./components/OutcomeNotification/OutcomeNotification\";\r\nimport ControlPanel from \"./components/ControlPanel/ControlPanel\";\r\n\r\n/************\r\nUTIL FUNCTIONS\r\n*************/\r\nimport { cloneDeep, isEqual } from \"lodash\";\r\nimport {\r\n  unshuffledDeck,\r\n  generateShuffledDeck,\r\n  sumHand,\r\n  isWin,\r\n  isTie,\r\n  rigGameForSplits\r\n} from \"./utils\";\r\n\r\n/******\r\nSTYLES\r\n*******/\r\nimport \"./App.scss\";\r\n\r\nconst App = () => {\r\n  //----------------------------------------------------------------//\r\n  //                      INITIAL STATE                             //\r\n  //----------------------------------------------------------------//\r\n\r\n  const [deck, setDeck] = useState([]);\r\n  const [chips, setChips] = useState(1000);\r\n  const [bet, setBet] = useState(0);\r\n  const [turn, setTurn] = useState(\"player\");\r\n  const [dealerHand, setDealerHand] = useState({ cards: [] });\r\n  //we can have multiple player hands due to splitting\r\n  const [playerHands, setPlayerHands] = useState([]);\r\n  //refers to the hand which the player makes decisions on currently\r\n  const [currentHand, setCurrentHand] = useState({ cards: [], bet: 0 });\r\n  //stacks the deck to test the functionality/logic involved in splitting\r\n  const [isRiggedForSplits, toggleIsRiggedForSplits] = useState(false);\r\n\r\n  //notifications\r\n  const [outcomeNotification, setOutcomeNotification] = useState(\"\");\r\n  const [gameOverNotification, setGameOverNotification] = useState(\"\");\r\n\r\n  //----------------------------------------------------------------//\r\n  //                        SIDE EFFECTS                            //\r\n  //----------------------------------------------------------------//\r\n\r\n  //preload images for more fluid ux\r\n  useEffect(() => {\r\n    unshuffledDeck().forEach(card => {\r\n      const img = new Image();\r\n      img.src = `./cards/${card}.png`;\r\n    });\r\n  }, []);\r\n\r\n  //if bet has been submitted and player has no hand dealt, deal cards\r\n  useEffect(() => {\r\n    if (bet > 0 && !playerHands.length) dealCards();\r\n  }, [bet]);\r\n\r\n  /*\r\n  determines what to do if the current player hand \"busts\" (over 21)\r\n  if it is the only hand or is the last hand of splitted hands,\r\n  it is now the dealer's turn. otherwise, we move to the next player hand\r\n  */\r\n  useEffect(() => {\r\n    if (\r\n      sumHand(currentHand) >= 21 &&\r\n      !playerHands.every(hand => sumHand(hand) > 21)\r\n    ) {\r\n      const handsCopy = cloneDeep(playerHands);\r\n      const currentIndex = playerHands.findIndex(hand =>\r\n        isEqual(hand, currentHand)\r\n      );\r\n      const nextHand = handsCopy[currentIndex + 1];\r\n      if (nextHand) {\r\n        setCurrentHand(nextHand);\r\n      } else {\r\n        const delayedSetTurn = setTimeout(() => setTurn(\"dealer\"), 1000);\r\n        return () => clearTimeout(delayedSetTurn);\r\n      }\r\n    }\r\n  }, [currentHand]);\r\n\r\n  //if it is the dealer's turn and the dealer's hand is less than 16,\r\n  //hit the dealer. else it is time to determine the outcome\r\n  useEffect(() => {\r\n    if (turn === \"dealer\") {\r\n      if (\r\n        sumHand(dealerHand) < 17 &&\r\n        !playerHands.every(hand => sumHand(hand) > 21) &&\r\n        !playerHands.every(hand => sumHand(hand) === 21)\r\n      ) {\r\n        const delayedDeal = setTimeout(hitDealer, 400);\r\n        return () => clearTimeout(delayedDeal);\r\n      } else return determineOutcome();\r\n    }\r\n  }, [turn, dealerHand]);\r\n\r\n  /*\r\n  checks to see whether every player hand is \"busted\" (over 21)\r\n  if so, there is no need for the dealer to be dealt cards \r\n  and we move on to the next deal\r\n  */\r\n  useEffect(() => {\r\n    if (playerHands.length && playerHands.every(hand => sumHand(hand) > 21)) {\r\n      determineOutcome();\r\n    }\r\n  }, [playerHands]);\r\n\r\n  //----------------------------------------------------------------//\r\n  //                         HELPERS                                //\r\n  //----------------------------------------------------------------//\r\n\r\n  const dealCards = () => {\r\n    //this is for the game mode where you are guaranteed to be dealt 4 2s in a row\r\n    if (isRiggedForSplits) {\r\n      rigTheDeckAndDeal();\r\n    } else {\r\n      const shuffledDeck = generateShuffledDeck();\r\n      const newPlayerHand = {\r\n        cards: [shuffledDeck.pop(), shuffledDeck.pop()],\r\n        //we grab the base bet amount from global state but this\r\n        //can be mutated later by doubling down or insurance\r\n        //(insurance in future story)\r\n        bet\r\n      };\r\n      const newDealerHand = { cards: [shuffledDeck.pop(), shuffledDeck.pop()] };\r\n      setDeck(shuffledDeck);\r\n      setPlayerHands([newPlayerHand]);\r\n      setCurrentHand(newPlayerHand);\r\n      setDealerHand(newDealerHand);\r\n    }\r\n  };\r\n\r\n  const determineOutcome = () => {\r\n    if (\r\n      playerHands.length === 1 &&\r\n      currentHand.cards.length === 2 &&\r\n      sumHand(currentHand) === 21\r\n    ) {\r\n      setChips(chips => chips + currentHand.bet * 2);\r\n      setOutcomeNotification(`BLACKJACK!! YOU WON ${bet} CHIPS`);\r\n    }\r\n    //for every player hand, we determine whether it is a win or a tie\r\n    //then tally up accordingly\r\n    const netChipsWon = playerHands.reduce((netChipsWon, playerHand) => {\r\n      return isWin(playerHand, dealerHand)\r\n        ? netChipsWon + playerHand.bet * 2\r\n        : isTie(playerHand, dealerHand)\r\n        ? netChipsWon + playerHand.bet\r\n        : netChipsWon;\r\n    }, 0);\r\n    setChips(chips => chips + netChipsWon);\r\n    //game over condition:\r\n    //if player has 0 chips left and didn't win any chips this deal\r\n    if (chips <= 0 && netChipsWon === 0) {\r\n      setGameOverNotification(\r\n        \"You have ZERO chips. You are crap out of luck ðŸ˜Š\"\r\n      );\r\n    } else {\r\n      const netBet = playerHands.reduce((netBet, { bet }) => netBet + bet, 0);\r\n      const netGain = netChipsWon - netBet;\r\n      const message =\r\n        netGain > 0\r\n          ? `You won ${netGain} chips`\r\n          : netGain === 0\r\n          ? \"You broke even\"\r\n          : `You lost ${Math.abs(netGain)} chips`;\r\n      setOutcomeNotification(message);\r\n    }\r\n  };\r\n\r\n  const resetStateForNewHand = () => {\r\n    setBet(0);\r\n    setPlayerHands([]);\r\n    setCurrentHand({ cards: [], bet: 0 });\r\n    setDealerHand({ cards: [] });\r\n    setDeck([]);\r\n    setTurn(\"player\");\r\n    toggleIsRiggedForSplits(false);\r\n    setOutcomeNotification(\"\");\r\n    setGameOverNotification(\"\");\r\n  };\r\n\r\n  const hitDealer = useCallback(() => {\r\n    if (playerHands.length && playerHands.every(hand => sumHand(hand) > 21)) {\r\n      console.log(dealerHand);\r\n      determineOutcome();\r\n    } else {\r\n      //make copies\r\n      const deckCopy = [...deck];\r\n      const dealerHandCopy = cloneDeep(dealerHand);\r\n      //deal card\r\n      dealerHandCopy.cards.push(deckCopy.pop());\r\n      //update state\r\n      setDealerHand(dealerHandCopy);\r\n      setDeck(deckCopy);\r\n    }\r\n  }, [deck]);\r\n\r\n  const rigTheDeckAndDeal = () => {\r\n    const {\r\n      riggedDeck,\r\n      dealerHand,\r\n      riggedPlayerHands,\r\n      riggedCurrentHand\r\n    } = rigGameForSplits(bet);\r\n    setDeck(riggedDeck);\r\n    setDealerHand(dealerHand);\r\n    setPlayerHands(riggedPlayerHands);\r\n    setCurrentHand(riggedCurrentHand);\r\n  };\r\n\r\n  //----------------------------------------------------------------//\r\n  //                         RENDER                                 //\r\n  //----------------------------------------------------------------//\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <section className=\"game-display-section\">\r\n        <PlayerSide playerHands={playerHands} currentHand={currentHand} />\r\n        <DealerSide dealerHand={dealerHand} turn={turn} />\r\n      </section>\r\n      <section className=\"control-panel-section\">\r\n        <ControlPanel\r\n          deck={deck}\r\n          setDeck={setDeck}\r\n          bet={bet}\r\n          setBet={setBet}\r\n          chips={chips}\r\n          setChips={setChips}\r\n          playerHands={playerHands}\r\n          setPlayerHands={setPlayerHands}\r\n          currentHand={currentHand}\r\n          setCurrentHand={setCurrentHand}\r\n          turn={turn}\r\n          setTurn={setTurn}\r\n          gameOverNotification={gameOverNotification}\r\n          outcomeNotification={outcomeNotification}\r\n          toggleIsRiggedForSplits={toggleIsRiggedForSplits}\r\n        />\r\n      </section>\r\n      {outcomeNotification && (\r\n        <OutcomeNotification\r\n          outcomeNotification={outcomeNotification}\r\n          resetStateForNewHand={resetStateForNewHand}\r\n        />\r\n      )}\r\n      {gameOverNotification && (\r\n        <GameOverNotification\r\n          gameOverNotification={gameOverNotification}\r\n          resetStateForNewHand={resetStateForNewHand}\r\n          setChips={setChips}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { sumHand } from \"./sumHand\";\r\n\r\nexport const isWin = (playerHand, dealerHand) => {\r\n  const playerScore = sumHand(playerHand);\r\n  const dealerScore = sumHand(dealerHand);\r\n  return (\r\n    (playerScore <= 21 && playerScore > dealerScore) ||\r\n    (playerScore <= 21 && dealerScore > 21)\r\n  );\r\n};\r\n","import { sumHand } from \"./sumHand\";\r\n\r\nexport const isTie = (playerHand, dealerHand) => {\r\n  const playerScore = sumHand(playerHand);\r\n  const dealerScore = sumHand(dealerHand);\r\n  return (\r\n    (playerScore <= 21 && playerScore === dealerScore) ||\r\n    (playerScore > 21 && dealerScore > 21)\r\n  );\r\n};\r\n","import { generateShuffledDeck } from \"./generateShuffledDeck\";\r\n\r\nexport const rigGameForSplits = bet => {\r\n  //rigged deal to guarantee a splittable hand for player\r\n  const riggedPlayerHands = [{ cards: [\"two of clubs\", \"two of hearts\"], bet }];\r\n  const riggedCurrentHand = { cards: [\"two of clubs\", \"two of hearts\"], bet };\r\n  //filter out the remaining 2s which will be added to top of deck\r\n  //as well as the already-dealt cards (to avoid buggy behavior)\r\n  const riggedDeck = generateShuffledDeck().filter(\r\n    card =>\r\n      ![\r\n        \"two of clubs\",\r\n        \"two of hearts\",\r\n        \"two of diamonds\",\r\n        \"two of spades\"\r\n      ].includes(card)\r\n  );\r\n  const dealerHand = { cards: [riggedDeck.pop(), riggedDeck.pop()] };\r\n  //stack the deck so that the top two cards will be the remaining 2s\r\n  riggedDeck.push(\"two of diamonds\", \"two of spades\");\r\n  return { riggedDeck, dealerHand, riggedPlayerHands, riggedCurrentHand };\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}