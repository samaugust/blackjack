(window.webpackJsonpblackjack=window.webpackJsonpblackjack||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(31)},,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),s=(a(14),a(5)),i=a(2),u=a(3),l=a(1),f=function(){return function(e){for(var t,a=e.length;a;){var n=[e[t=Math.floor(Math.random()*a--)],e[a]];e[a]=n[0],e[t]=n[1]}return e}(["ace of hearts","ace of diamonds","ace of spades","ace of clubs","two of hearts","two of diamonds","two of spades","two of clubs","three of hearts","three of diamonds","three of spades","three of clubs","four of hearts","four of diamonds","four of spades","four of clubs","five of hearts","five of diamonds","five of spades","five of clubs","six of hearts","six of diamonds","six of spades","six of clubs","seven of hearts","seven of diamonds","seven of spades","seven of clubs","eight of hearts","eight of diamonds","eight of spades","eight of clubs","nine of hearts","nine of diamonds","nine of spades","nine of clubs","ten of hearts","ten of diamonds","ten of spades","ten of clubs","jack of hearts","jack of diamonds","jack of spades","jack of clubs","queen of hearts","queen of diamonds","queen of spades","queen of clubs","king of hearts","king of diamonds","king of spades","king of clubs"])},d=a(8);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,jack:10,queen:10,king:10},h=function(e){var t=function(e){return e.reduce((function(e,t){var a=t.split(" ")[0];if("ace"===a)return b({},e,{totalAces:e.totalAces+1});var n=m[a];return b({},e,{scoreWithoutAces:e.scoreWithoutAces+n})}),{scoreWithoutAces:0,totalAces:0})}(e.cards);return function(e,t){if(0===t)return e;var a=e+t+10;return a<=21?a:e+t}(t.scoreWithoutAces,t.totalAces)},g=function(e){return e.split(" ")[0]},v=(a(19),function(e){var t=e.card;return r.a.createElement("img",{className:"card-img",key:t,alt:t,src:"cards/".concat(t,".png")})}),E=(a(20),function(e){var t=e.hand,a=e.score,n=e.currentHand,c=e.turn;return r.a.createElement("div",{className:"hand-wrapper"},r.a.createElement("div",{className:"scorebox"},"player"!==c?a:"??"),r.a.createElement("div",{className:Object(l.isEqual)(n,t)?"cards-wrapper selected":"cards-wrapper"},"player"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{card:t.cards[0]})," ",r.a.createElement(v,{card:"blue_back"})):t.cards.map((function(e){return r.a.createElement(v,{key:e,card:e})}))),h(t)>21&&r.a.createElement("p",{className:"busted-message"},"BUSTED"),21===h(t)&&2===t.cards.length&&t.bet&&r.a.createElement("p",{className:"blackjack-message"},"BLACKJACK!"),21===h(t)&&t.cards.length>2&&r.a.createElement("p",{className:"blackjack-message"},"21! 21! 21!"))}),O=(a(21),function(e){var t=e.playerHands,a=e.currentHand;return r.a.createElement("div",{className:"player-side-wrapper"},t.map((function(e){return r.a.createElement(E,{key:JSON.stringify(e),hand:e,score:h(e),currentHand:a})})),r.a.createElement("p",{className:"player-label"},"PLAYER"))}),j=(a(22),function(e){var t=e.dealerHand,a=e.turn;return r.a.createElement("div",{className:"dealer-side-wrapper"},t.cards.length>0&&r.a.createElement(E,{hand:t,score:h(t),turn:a}),r.a.createElement("p",{className:"dealer-label"},"DEALER"))}),k=(a(23),function(e){var t=e.gameOverNotification,a=e.resetStateForNewHand,n=e.setChips;return r.a.createElement("div",{className:"game-over-notification-wrapper"},r.a.createElement("p",{className:"game-over-notification"},t),r.a.createElement("button",{className:"game-over-notification-button",onClick:function(){a(),n(1e3)}},"Take a lien on your house"))}),y=(a(24),function(e){var t=e.outcomeNotification,a=e.resetStateForNewHand;return r.a.createElement("div",{className:"outcome-notification-wrapper"},r.a.createElement("p",{className:"outcome-notification"},t),r.a.createElement("button",{className:"outcome-notification-button",onClick:a},"Deal 'er again please"))}),w=(a(25),function(e){var t=e.setBet,a=e.chips,c=e.setChips,o=Object(n.useState)(""),s=Object(i.a)(o,2),l=s[0],f=s[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),b=p[0],m=p[1];Object(n.useEffect)((function(){if(b){var e=setTimeout((function(){return m("")}),1750);return function(){return clearTimeout(e)}}}),[b]),Object(n.useEffect)((function(){m("")}),[l]);var h=function(){u.a.event({category:"Player Actions",action:"Player submitted bet",label:"bet"});var e=Number(l);e>a?m("You don't have enough chips to bet that much - duh!"):(t(e),c(a-e))};return r.a.createElement("div",{className:"bet-input-wrapper"},r.a.createElement("input",{className:"bet-input",value:l,onChange:function(e){var t=e.target.value;/[^0-9]/g.test(t)?m("Only numbers allowed - duh!"):f(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&h()}}),r.a.createElement("button",{className:"bet-input-button",onClick:h},"Bet"),b&&r.a.createElement("p",{className:"error"},b),0===l.length&&r.a.createElement("p",{className:"enter-a-bet-message"},"Enter a bet first!"))}),N=(a(26),function(e){var t=e.onClick,a=e.content;return r.a.createElement("div",{className:"button-wrapper"},r.a.createElement("button",{className:"game-button",onClick:t},a))}),C=(a(27),function(e){var t=e.chips;return r.a.createElement("div",{className:"chips-wrapper"},r.a.createElement("div",{className:"player-chips"},"Chips: ",t))}),H=(a(28),function(e){var t=e.toggleIsRiggedForSplits;return r.a.createElement("div",{className:"rig-deck-wrapper"},r.a.createElement("input",{type:"checkbox",style:{width:"20px",height:"20px"},id:"rig-deck-checkbox",onChange:function(e){u.a.event({category:"Player Actions",action:"Player rigged deck for splits",label:"rig deck"}),t(e.target.checked)}}),r.a.createElement("label",{className:"rig-deck-label",htmlFor:"rig-deck-checkbox"},"Get dealt a splittable hand"))}),S=(a(29),function(e){var t=e.deck,a=e.setDeck,n=e.bet,c=e.setBet,o=e.chips,i=e.setChips,f=e.playerHands,d=e.setPlayerHands,p=e.currentHand,b=e.setCurrentHand,m=e.turn,h=e.setTurn,v=e.gameOverNotification,E=e.outcomeNotification,O=e.toggleIsRiggedForSplits;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{chips:o}),0===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{setBet:c,chips:o,setChips:i}),r.a.createElement(H,{toggleIsRiggedForSplits:O})),"player"===m&&!v&&!E&&n>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{onClick:function(e){return function(){u.a.event({category:"Player Actions",action:"Player hit",label:"hit"});var e=Object(s.a)(t),n=Object(l.cloneDeep)(f),r=Object(l.cloneDeep)(p),c=e.pop();r.cards.push(c);var o=f.findIndex((function(e){return Object(l.isEqual)(e,p)}));n.splice(o,1,r),d(n),b(r),a(e)}()},content:"Hit"}),r.a.createElement(N,{onClick:function(){u.a.event({category:"Player Actions",action:"Player stood",label:"stand"});var e=Object(l.cloneDeep)(f)[f.findIndex((function(e){return Object(l.isEqual)(e,p)}))+1];e?b(e):h("dealer")},content:"Stand"}),o>n&&(2===p.cards.length||1===p.cards.length)&&r.a.createElement(N,{onClick:function(){u.a.event({category:"Player Actions",action:"Player doubled down",label:"double down"});var e=Object(s.a)(t),a=Object(l.cloneDeep)(f),n=Object(l.cloneDeep)(p),r=e.pop();n.cards.push(r),n.bet*=2,b(n),i((function(e){return e-n.bet}));var c=f.findIndex((function(e){return Object(l.isEqual)(e,p)}));a.splice(c,1,n),d(a);var o=a[c+1];o?b(o):h("dealer")},content:"Double Down"}),o>n&&function(e){var t=e.cards;return 2===t.length&&g(t[0])===g(t[1])}(p)&&r.a.createElement(N,{onClick:function(){u.a.event({category:"Player Actions",action:"User split his hand",label:"split"});var e=Object(l.cloneDeep)(f),t=Object(l.cloneDeep)(p),a=f.findIndex((function(e){return Object(l.isEqual)(e,p)}));e.splice(a,1,{cards:[t.cards[0]],bet:n},{cards:[t.cards[1]],bet:n}),b(e[0]),d(e),i((function(e){return e-n}))},content:"Split"})))}),P=(a(30),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(1e3),d=Object(i.a)(o,2),p=d[0],b=d[1],m=Object(n.useState)(0),g=Object(i.a)(m,2),v=g[0],E=g[1],w=Object(n.useState)("player"),N=Object(i.a)(w,2),C=N[0],H=N[1],P=Object(n.useState)({cards:[]}),A=Object(i.a)(P,2),D=A[0],x=A[1],q=Object(n.useState)([]),F=Object(i.a)(q,2),I=F[0],T=F[1],B=Object(n.useState)({cards:[],bet:0}),Y=Object(i.a)(B,2),R=Y[0],J=Y[1],K=Object(n.useState)(!1),W=Object(i.a)(K,2),L=W[0],U=W[1],M=Object(n.useState)(""),z=Object(i.a)(M,2),G=z[0],Z=z[1],_=Object(n.useState)(""),Q=Object(i.a)(_,2),V=Q[0],X=Q[1];Object(n.useEffect)((function(){["ace of hearts","ace of diamonds","ace of spades","ace of clubs","two of hearts","two of diamonds","two of spades","two of clubs","three of hearts","three of diamonds","three of spades","three of clubs","four of hearts","four of diamonds","four of spades","four of clubs","five of hearts","five of diamonds","five of spades","five of clubs","six of hearts","six of diamonds","six of spades","six of clubs","seven of hearts","seven of diamonds","seven of spades","seven of clubs","eight of hearts","eight of diamonds","eight of spades","eight of clubs","nine of hearts","nine of diamonds","nine of spades","nine of clubs","ten of hearts","ten of diamonds","ten of spades","ten of clubs","jack of hearts","jack of diamonds","jack of spades","jack of clubs","queen of hearts","queen of diamonds","queen of spades","queen of clubs","king of hearts","king of diamonds","king of spades","king of clubs"].forEach((function(e){(new Image).src="./cards/".concat(e,".png")}))}),[]),Object(n.useEffect)((function(){u.a.initialize("UA-149670420-2")}),[]),Object(n.useEffect)((function(){v>0&&!I.length&&$()}),[v]),Object(n.useEffect)((function(){if(h(R)>=21&&!I.every((function(e){return h(e)>21}))){var e=Object(l.cloneDeep)(I)[I.findIndex((function(e){return Object(l.isEqual)(e,R)}))+1];if(!e){var t=setTimeout((function(){return H("dealer")}),1e3);return function(){return clearTimeout(t)}}J(e)}}),[R]),Object(n.useEffect)((function(){if("dealer"===C){if(h(D)<17&&!I.every((function(e){return h(e)>21}))&&!I.every((function(e){return 21===h(e)}))){var e=setTimeout(ae,400);return function(){return clearTimeout(e)}}return ee()}}),[C,D]),Object(n.useEffect)((function(){I.length&&I.every((function(e){return h(e)>21}))&&ee()}),[I]);var $=function(){if(L)ne();else{var e=f(),t={cards:[e.pop(),e.pop()],bet:v},a={cards:[e.pop(),e.pop()]};c(e),T([t]),J(t),x(a)}},ee=function(){1===I.length&&2===R.cards.length&&21===h(R)&&(b((function(e){return e+2*R.bet})),Z("BLACKJACK!! YOU WON ".concat(v," CHIPS")));var e=I.reduce((function(e,t){return function(e,t){var a=h(e),n=h(t);return a<=21&&a>n||a<=21&&n>21}(t,D)?e+2*t.bet:function(e,t){var a=h(e),n=h(t);return a<=21&&a===n||a>21&&n>21}(t,D)?e+t.bet:e}),0);if(b((function(t){return t+e})),p<=0&&0===e)X("You have ZERO chips. You are crap out of luck \ud83d\ude0a");else{var t=I.reduce((function(e,t){return e+t.bet}),0),a=e-t,n=a>0?"You won ".concat(a," chips"):0===a?"You broke even":"You lost ".concat(Math.abs(a)," chips");Z(n)}},te=function(){E(0),T([]),J({cards:[],bet:0}),x({cards:[]}),c([]),H("player"),U(!1),Z(""),X("")},ae=Object(n.useCallback)((function(){if(I.length&&I.every((function(e){return h(e)>21})))console.log(D),ee();else{var e=Object(s.a)(a),t=Object(l.cloneDeep)(D);t.cards.push(e.pop()),x(t),c(e)}}),[a]),ne=function(){var e=function(e){var t=[{cards:["two of clubs","two of hearts"],bet:e}],a={cards:["two of clubs","two of hearts"],bet:e},n=f().filter((function(e){return!["two of clubs","two of hearts","two of diamonds","two of spades"].includes(e)})),r={cards:[n.pop(),n.pop()]};return n.push("two of diamonds","two of spades"),{riggedDeck:n,dealerHand:r,riggedPlayerHands:t,riggedCurrentHand:a}}(v),t=e.riggedDeck,a=e.dealerHand,n=e.riggedPlayerHands,r=e.riggedCurrentHand;c(t),x(a),T(n),J(r)};return r.a.createElement("div",{className:"App"},r.a.createElement("section",{className:"game-display-section"},r.a.createElement(O,{playerHands:I,currentHand:R}),r.a.createElement(j,{dealerHand:D,turn:C})),r.a.createElement("section",{className:"control-panel-section"},r.a.createElement(S,{deck:a,setDeck:c,bet:v,setBet:E,chips:p,setChips:b,playerHands:I,setPlayerHands:T,currentHand:R,setCurrentHand:J,turn:C,setTurn:H,gameOverNotification:V,outcomeNotification:G,toggleIsRiggedForSplits:U})),G&&r.a.createElement(y,{outcomeNotification:G,resetStateForNewHand:te}),V&&r.a.createElement(k,{gameOverNotification:V,resetStateForNewHand:te,setChips:b}))});o.a.render(r.a.createElement(P,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.410d49e6.chunk.js.map